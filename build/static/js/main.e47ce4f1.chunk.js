(this["webpackJsonparrow-app-front"]=this["webpackJsonparrow-app-front"]||[]).push([[0],{114:function(e,t,a){e.exports=a(275)},119:function(e,t,a){},120:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(42),c=a.n(r),o=(a(119),a(20)),s=a(21),m=a(24),i=a(22),u=a(25),d=(a(120),a(23));function h(e){return function(t){fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"USERS_FETCH_DATA_SUCCESS",users:e}}(e))})).catch((function(){}))}}var b=a(43),E=a(15),f=(a(61),a(110)),p=a.n(f),v=a(111),g=null,y=[];var N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(i.a)(t).call(this))).state={id:"",name:"",age:"",country:""},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.id;this.setState(Object(b.a)({},n,a)),this.setState({id:e.target.value})}},{key:"render",value:function(){var e=this;!function(e){g.send("http://localhost:8080/changeUsers",{},JSON.stringify(e))}({id:this.id,name:this.name,age:this.age,country:this.country});return l.a.createElement("div",{className:"users-list-table"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"ID"),l.a.createElement("th",{scope:"col"},"\u0418\u043c\u044f"),l.a.createElement("th",{scope:"col"},"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),l.a.createElement("th",{scope:"col"},"\u0421\u0442\u0440\u0430\u043d\u0430"),l.a.createElement("th",{scope:"col"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),l.a.createElement("tbody",null,this.props.users.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{className:"id-user-td",scope:"row"},t.id),l.a.createElement("td",{className:"name-td"},t.name),l.a.createElement("td",{className:"age-td"},t.age),l.a.createElement("td",{className:"country-td"},t.country),l.a.createElement("td",{className:"actions-td"},l.a.createElement("div",{className:"edit-user-icon"},l.a.createElement("ion-icon",{name:"create",id:"edit-user-icon","data-toggle":"modal","data-target":"#edit-user-modal","data-whatever":"edit-user"}),l.a.createElement("div",{className:"modal fade",id:"edit-user-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-user-name"},l.a.createElement("br",null),l.a.createElement("label",{className:"label-name"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"name",value:e.state.name,onChange:e.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})),l.a.createElement("div",{className:"form-user-age"},l.a.createElement("br",null),l.a.createElement("label",{className:"label-age"},"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"age",value:e.state.age,onChange:e.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-user-country"},l.a.createElement("label",{className:"label-country"},"\u0421\u0442\u0440\u0430\u043d\u0430"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"country",value:e.state.country,onChange:e.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443"})),l.a.createElement("br",null))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"btn-create-user-cancel"},"\u041e\u0442\u043c\u0435\u043d\u0430"),l.a.createElement("button",{type:"button",className:"btn btn-primary",id:"btn-update-user","data-dismiss":"modal",onClick:function(){return a=t.id,void fetch("http://localhost:8080/users/"+a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.state.name,age:e.state.age,country:e.state.country})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));var a}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))),l.a.createElement("div",{className:"delete-user-icon"},l.a.createElement("ion-icon",{name:"close",id:"delete-user-icon",onClick:function(){return e=t.id,void(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")&&fetch("http://localhost:8080/users/"+e,{method:"DELETE"}).then((function(e){return console.log(e)})));var e}}))))})),l.a.createElement("tr",null))))}}]),t}(l.a.Component),C=Object(d.b)((function(e){return{users:e.users}}),(function(e){return{fetchData:function(t){return e(h(t))}}}))(N),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(i.a)(t).call(this))).state={name:"",age:"",country:""},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(E.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.id;this.setState(Object(b.a)({},n,a)),this.setState({id:e.target.value})}},{key:"handleSubmit",value:function(){fetch("http://localhost:8080/users/",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.state.name,age:this.state.age,country:this.state.country})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"users-create-form"},l.a.createElement("div",{className:"button-user-create"},l.a.createElement("button",{type:"button",className:"btn btn-primary",id:"create-user-btn","data-toggle":"modal","data-target":"#create-user-modal","data-whatever":"create-user"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),l.a.createElement("div",{className:"modal fade",id:"create-user-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement("button",{type:"button",className:"close",id:"create-close-cross","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-user-name"},l.a.createElement("br",null),l.a.createElement("label",{className:"label-name"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"name",value:this.state.name,onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})),l.a.createElement("div",{className:"form-user-age"},l.a.createElement("br",null),l.a.createElement("label",{className:"label-age"},"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"age",value:this.state.age,onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-user-country"},l.a.createElement("label",{className:"label-country"},"\u0421\u0442\u0440\u0430\u043d\u0430"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",id:"country",value:this.state.country,onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443"})),l.a.createElement("br",null))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"btn-create-user-cancel"},"\u041e\u0442\u043c\u0435\u043d\u0430"),l.a.createElement("button",{type:"button",className:"btn btn-primary",id:"btn-create-user","data-dismiss":"modal",onClick:this.handleSubmit},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))))}}]),t}(l.a.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData("http://localhost:8080/users")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"list-users"},l.a.createElement(C,null)),l.a.createElement("div",{className:"create-user"},l.a.createElement(j,null)))}}]),t}(l.a.Component);!function(){var e=new p.a("/gs-guide-websocket");(g=v.Stomp.over(e)).connect({},(function(e){console.log("Connected: "+e),g.subscribe("/topic/users",(function(e){y.forEach((function(t){return t(JSON.parse(e.body))}))}))}))}();var S=Object(d.b)((function(e){return{users:e.users}}),(function(e){return{fetchData:function(t){return e(h(t))}}}))(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(13),k=a(112);var x=Object(w.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"USERS_FETCH_DATA_SUCCESS"===t.type?t.users:e}}),T=a(113),D=Object(w.createStore)(x,Object(T.composeWithDevTools)(Object(w.applyMiddleware)(k.a)));c.a.render(l.a.createElement(d.a,{store:D},l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[114,1,2]]]);
//# sourceMappingURL=main.e47ce4f1.chunk.js.map