{"ast":null,"code":"import SockJS from 'sockjs-client';\nimport { Stomp } from '@stomp/stompjs';\nlet stompClient = null;\nconst handlers = [];\nexport function connectTo() {\n  const socket = new SockJS('/gs-guide-websocket');\n  stompClient = Stomp.over(socket);\n  stompClient.connect({}, frame => {\n    console.log('Connected: ' + frame);\n    stompClient.subscribe('/topic/users', users => {\n      handlers.forEach(handler => handler(JSON.parse(users.body)));\n    });\n  });\n}\nexport function disconnect() {\n  if (stompClient !== null) {\n    stompClient.disconnect();\n  }\n\n  console.log(\"Disconnected\");\n}\nexport function sendUsers(users) {\n  stompClient.send(\"http://localhost:3000/changeUsers\", {}, JSON.stringify(users));\n}","map":{"version":3,"sources":["/home/nells/study/arrow-app-front/src/ws/ws.js"],"names":["SockJS","Stomp","stompClient","handlers","connectTo","socket","over","connect","frame","console","log","subscribe","users","forEach","handler","JSON","parse","body","disconnect","sendUsers","send","stringify"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,eAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AAGA,IAAIC,WAAW,GAAG,IAAlB;AACA,MAAMC,QAAQ,GAAG,EAAjB;AAEA,OAAO,SAASC,SAAT,GAAqB;AACxB,QAAMC,MAAM,GAAG,IAAIL,MAAJ,CAAW,qBAAX,CAAf;AACAE,EAAAA,WAAW,GAAGD,KAAK,CAACK,IAAN,CAAWD,MAAX,CAAd;AACAH,EAAAA,WAAW,CAACK,OAAZ,CAAoB,EAApB,EAAwBC,KAAK,IAAI;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBF,KAA5B;AACAN,IAAAA,WAAW,CAACS,SAAZ,CAAsB,cAAtB,EAAsCC,KAAK,IAAI;AAC3CT,MAAAA,QAAQ,CAACU,OAAT,CAAiBC,OAAO,IAAIA,OAAO,CAACC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,IAAjB,CAAD,CAAnC;AACH,KAFD;AAGH,GALD;AAMH;AAED,OAAO,SAASC,UAAT,GAAsB;AACzB,MAAIhB,WAAW,KAAK,IAApB,EAA0B;AACtBA,IAAAA,WAAW,CAACgB,UAAZ;AACH;;AACDT,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;AAED,OAAO,SAASS,SAAT,CAAmBP,KAAnB,EAA0B;AAC7BV,EAAAA,WAAW,CAACkB,IAAZ,CAAiB,mCAAjB,EAAsD,EAAtD,EAA0DL,IAAI,CAACM,SAAL,CAAeT,KAAf,CAA1D;AACH","sourcesContent":["import SockJS from 'sockjs-client'\nimport {Stomp} from '@stomp/stompjs'\n\n\nlet stompClient = null;\nconst handlers = [];\n\nexport function connectTo() {\n    const socket = new SockJS('/gs-guide-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, frame => {\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/topic/users', users => {\n            handlers.forEach(handler => handler(JSON.parse(users.body)))\n        });\n    });\n}\n\nexport function disconnect() {\n    if (stompClient !== null) {\n        stompClient.disconnect();\n    }\n    console.log(\"Disconnected\");\n}\n\nexport function sendUsers(users) {\n    stompClient.send(\"http://localhost:3000/changeUsers\", {}, JSON.stringify(users));\n}"]},"metadata":{},"sourceType":"module"}